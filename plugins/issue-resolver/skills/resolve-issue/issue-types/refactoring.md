# type:refactoring - リファクタリング手順

## 概要

既存の機能を維持しながらコードの構造や品質を改善するための詳細手順です。

## 実装手順

### 1. リファクタリング対象のコードを確認する

- リファクタリング対象のコードを読んで理解する
- 現在のコードの問題点や改善点を特定する
- 既存のテストを確認し、リファクタリング後も同じ動作を保証できることを確認する

### 2. 改善方針を検討する

- リファクタリングの目的を明確にする（可読性向上、保守性向上、パフォーマンス改善など）
- 複数のアプローチがある場合は、それぞれの影響を検討する
- 既存のコードベースのパターンやスタイルに合わせる
- 大規模なリファクタリングの場合は、段階的に進める計画を立てる

### 3. 既存の機能を維持しながらコードを整理する

- 外部から見た動作（API、インターフェース）を変更しない
- 既存のテストがすべてパスすることを確認する
- 必要に応じてテストを追加または改善する
- コードレビューしやすいように、論理的な単位でコミットを分ける

### 4. リファクタリングPRを作成する

- コミットメッセージは `refactor: <対象の簡潔な説明>` の形式で記載する
- PRの説明には以下を含める：
  - リファクタリングの目的
  - 変更内容の概要
  - 機能的な変更がないことの確認方法
  - Before/Afterの比較（該当する場合）

## 注意事項

- リファクタリングと機能追加は分離する（同時に行わない）
- 大規模なリファクタリングは小さな単位に分割して段階的に実施する
- 既存の動作を変更しないことを最優先にする
- リファクタリング中に見つけたバグは、別のIssueとして報告する
- パフォーマンスに影響する変更の場合は、ベンチマークを取る
